import{a0 as f,b as u,R as m,a1 as l,a2 as y}from"./index.e999ac47.js";const N=({selectedDashboard:t}={})=>{var s,n,i,c;const o=f.useFetchDashboardDetailQuery({dashboardUid:t==null?void 0:t.uid},{skip:!(t!=null&&t.uid)});return((c=(i=(n=(s=o==null?void 0:o.data)==null?void 0:s.dashboard)==null?void 0:n.templating)==null?void 0:i.list)!=null?c:[]).find(r=>r.name==="namespace"||r.name==="Namespace")},W=({panelId:t,selectedDashboard:o})=>{const s=u(a=>a.insight.customRange),n=u(a=>a.insight.selectedNamespace),i=u(a=>a.insight.discount),c=u(a=>a.insight.selectedWorkload),r=u(a=>a.insight.selectedWorkloadType),d=N({selectedDashboard:o}),[p,g]=m.useMemo(()=>[l(s.start).toDate().getTime(),l(s.end).toDate().getTime()],[s.end,s.start]);let e=m.useMemo(()=>({orgId:"1",from:p,to:g,theme:"light",panelId:t}),[p,t,g]);return i&&(e={...e,"var-Discount":i}),d&&n&&(e={...e,"var-namespace":n},e={...e,"var-Namespace":n}),r&&(e={...e,"var-WorkloadType":r}),c&&(e={...e,"var-Workload":c}),m.useMemo(()=>y.stringify(e),[e])},v=({panel:t})=>!t.hasOwnProperty("collapsed");export{N as a,W as b,v as u};
